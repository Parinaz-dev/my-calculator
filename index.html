<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>my</title>
  <link rel="stylesheet" href="style/style.css" />
</head>

<body>
  <div class="parent">
    <div class="calculator">
      <div class="p-screen">
        <input id="screen" type="text" />
      </div>

      <div class="first">
        <button>C</button>
        <button class="pink-color c-white" id="divide" style="font-size: 18px">
          /
        </button>
        <button class="pink-color c-white display" id="multiply">*</button>
        <button class="pink-color c-white display" id="minus">-</button>
      </div>

      <div class="p-main">
        <div class="main">
          <div class="second">
            <button class="btn">7</button>
            <button class="btn">8</button>
            <button class="btn">9</button>
          </div>
          <div class="third">
            <button class="btn">4</button>
            <button class="btn">5</button>
            <button class="btn">6</button>
          </div>
          <div class="forth">
            <button class="btn">1</button>
            <button class="btn">2</button>
            <button class="btn">3</button>
          </div>
        </div>
        <div class="plus">
          <button class="display" id="plus">+</button>
        </div>
      </div>

      <div class="fifth">
        <button class="btn">0</button>
        <button id="history" style="font-size: 18px">H</button>
        <button class="pink-color display" id="equal" style="color: white">
          =
        </button>
      </div>

      <div class="p-result">
        <input id="result" type="text" />
      </div>
    </div>
  </div>
</body>

<script>
  const btn = document.querySelectorAll(".btn");
  const screen = document.getElementById("screen");
  const divide = document.getElementById("divide");
  const multiply = document.getElementById("multiply");
  const minus = document.getElementById("minus");
  const plus = document.getElementById("plus");
  const history = document.getElementById("history");
  const equal = document.getElementById("equal");
  const result = document.getElementById("result");
  let firstnumber;
  let secondnumber;
  // با let okeye با const not چرا ؟
  let currentOperator;
  let resultvalue;

  const operators = {
    plus: "+",
    minus: "-",
    multiply: "*",
    divide: "/",
  };

  btn.forEach(function (btn) {
    btn.addEventListener("click", function () {
      screen.value += btn.textContent;
    });
  });

  divide.addEventListener("click", function (d) {
    screen.value += d.target.textContent;
  });
  divide.addEventListener("click", function (d) {
    screen.value += d.target.textContent.replaceAll(" ", "");
  });

  multiply.addEventListener("click", function (m) {
    screen.value += m.target.textContent;
  });

  minus.addEventListener("click", function (n) {
    screen.value += n.target.textContent;
  });

  plus.addEventListener("click", function (p) {
    screen.value += p.target.textContent;
  });

  plus.addEventListener("click", function () {
    firstnumber = Number(screen.value);
    currentoperator = operators.plus;
    screen.value = "";
  });

  equal.addEventListener("click", function () {
    secondnumber = Number(screen.value);
  });

  if (currentoperator === "+") {
    resultvalue = firstnumber + secondnumber;
  } else if (currentoperator === "-") {
    resultvalue = firstnumber - secondnumber;
  } else if (currentoperator === "*") {
    resultvalue = firstnumber * secondnumber;
  } else if (currentoperator === "/") {
    resultvalue = firstnumber / secondnumber;
  }

  result.value += result;
</script>

</html>
plus.addEventListener("click", function () {
firstnumber = Number(screen.value);
currentOperator = operators.plus;
});

divide.addEventListener("click", function () {
firstnumber = Number(screen.value);
currentOperator = operators.divide;
});

minus.addEventListener("click", function () {
firstnumber = Number(screen.value);
currentOperator = operators.minus;
});

multiply.addEventListener("click", function () {
firstnumber = Number(screen.value);
currentOperator = operators.multiply;
});

equal.addEventListener("click", function () {
secondnumber = Number(screen.value);

let parts = screen.value.split(currentOperator);
secondnumber = Number(parts[1]);

if (currentOperator === "+") {
resultvalue = firstnumber + secondnumber;
} else if (currentOperator === "-") {
resultvalue = firstnumber - secondnumber;
} else if (currentOperator === "*") {
resultvalue = firstnumber * secondnumber;
} else if (currentOperator === "/") {
resultvalue = firstnumber / secondnumber;
}
result.value = resultvalue;

screen.value = "";
});
</script>

</html>